<!DOCTYPE html>
<html>
  <head>
    <title>Registration</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <h1>Registration</h1>
        <label for="id">ID:</label><br>
        <input type="text" id="id" name="id"><br>
        <label for="password">Password:</label><br>
        <input type="password" id="password" name="password"><br>
        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name"><br>
        <input onclick="registration()" type="button" value="join">
        
        <!-- <form method="POST" action="/regis">
          <label for="id">ID:</label><br>
          <input type="text" id="id" name="id"><br>
          <label for="password">Password:</label><br>
          <input type="password" id="password" name="password"><br>
          <label for="name">Name:</label><br>
          <input type="text" id="name" name="name"><br>
          <input type="submit" value="join">
        </form> -->
    <br>
    <br>
    <br>
    <input type="button" value="back" onclick="javascript:location.href='/login'">


<script>

const registration = () => {
  const input_id = document.querySelector('#id').value;
  const input_pw = document.querySelector('#password').value;
  const input_name = document.querySelector('#name').value;

  axios.post('/regis',
    {
      id        : input_id,
      password  : input_pw,
      name      : input_name
    },
  )
  .then(function (res) {
    console.log(res.data.status);
    console.log(res.data.message);
    if (res.data.status == true) {
      alert('회원가입 완료되었습니다! 로그인해주세요');
      location.href = '/login';
    } else {
      alert(res.data.message);
    }
  })
  .catch(function (error) {
      console.log(error);
  });
}


</script>

  </body>
</html>